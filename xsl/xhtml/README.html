<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>XForms to XHTML Stylesheet</title><meta name="generator" content="DocBook XSL Stylesheets V1.50.0"/></head><body><div class="article"><div class="titlepage"><div><h1 class="title"><a id="id2823026"/>XForms to XHTML Stylesheet</h1></div><div><div class="author"><h3 class="author">rick frankel</h3><div class="affiliation"><div class="address"><p>
		  <tt>&lt;<a href="mailto:rick@rickster.com">rick@rickster.com</a>&gt;</tt>
		</p></div><span class="orgname">cyberCode consulting inc<br/></span></div></div></div><div><p class="releaseinfo">$Id: README.xml,v 1.1 2002/08/20 23:16:55 rick Exp $</p></div><div><p class="pubdate">Tue Aug 20 03:15:27 EDT 2002</p></div><hr/></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><a href="#id2809333">Contents</a></dt><dt><a href="#id2809256">Sample Usage</a></dt><dt><a href="#id2758843">Optional Parameters</a></dt><dt><a href="#id2758900">Requirements</a></dt><dt><a href="#id2758968">Overview</a></dt><dt><a href="#id2759076">Support for the XForms Spec, section-by-section</a></dt><dd><dl><dt><a href="#id2759084">2 Introduction to XForms</a></dt><dt><a href="#id2759106">3 Document Structure</a></dt><dt><a href="#id2759328">4 Processing Model</a></dt><dt><a href="#id2759446">5 Datatypes</a></dt><dt><a href="#id2759459">6 Constraints</a></dt><dt><a href="#id2759619">7 XPath Expressions in XForms</a></dt><dt><a href="#id2759681">8 Form Controls</a></dt><dt><a href="#id2760028">9 XForms User Interface</a></dt><dt><a href="#id2756047">10 XForms Actions</a></dt></dl></dd></dl></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a id="id2809333"/>Contents</h2></div></div><p>
	  <div class="itemizedlist"><ul type="disc"><li><p>
			<tt>xforms.xsl</tt> 
			xforms to html template</p></li><li><p>
			<tt>xforms.css</tt>
			Example	CSS styles for above output</p></li><li><p>
			<tt>test.xml</tt>
			Test input</p></li><li><p><tt>README.xml</tt>
			source to this document</p></li></ul></div>
	</p></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a id="id2809256"/>Sample Usage</h2></div></div><pre class="programlisting">
	  xsltproc --param list-size 3 xforms.xsl test.xml
	</pre></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a id="id2758843"/>Optional Parameters</h2></div></div><p>
	  There are 3 defaults (<tt class="sgmltag-element">xsl:param</tt>s) 
	  in the template which control the formatting of lists and
	  textareas. The parameters and their defaults are:
	  <div class="itemizedlist"><ul type="disc"><li><p><i>list-size</i> 6</p></li><li><p><i>textarea-rows</i> 5</p></li><li><p><i>textarea-cols</i> 20</p></li></ul></div>
	</p></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a id="id2758900"/>Requirements</h2></div></div><p>
	  The stylesheet has been tested with the xsltproc
	  command-line processor.
	</p><p>
	  The template requires an xslt processor which supports the
	  following exst extensions:	  
	  <div class="itemizedlist"><ul type="disc"><li><p><i>str:tokenize</i>	
			for handling multi-valued select instance data</p></li><li><p><i>dyn:evaluate</i>	
			for instance data</p></li><li><p><i>func:function</i>
			for accessing model nodes and more.</p></li></ul></div>
	  Note that the dyn prefix is mapped to the http://icl.com/saxon
	  namespace, which is available in the current release version of
	  libXML. When the cvs version is released, the evaluate function will
	  also be mapped into the http://exslt.org/dynamic namespace and the
	  template can be changed. However, it seems that at least for the
	  moment, the cvs version of libXML is also backwards compatible
	  w/ the saxon namespace.
	</p></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a id="id2758968"/>Overview</h2></div></div><p>
	  The template attempts to handle as much of the Xforms RFC as possible
	  w/o client side procesing or multi-pass transformations. Obviously,
	  w/o client side processing things such as  events, actions,
	  control flow and interleaved model specific controls cannot be
	  handled.
	</p><p>
	  This version operates in xslt push mode. Any text or nodes
	  (w/attributes) not in the xforms namespace are copied to the output as
	  is. It handles multiple forms, but assumes that ALL the controls for
	  each form are wrapped in an outermost xforms:group, in the same sense
	  as binding elements are considered outermost in in section 7.3 of the
	  xforms spec (that is, the xpath expression 
	  <tt class="sgmltag-element">ancestor::xforms:group</tt>
	  returns the null set).
	</p><p>
	  It also assumes that the input contains all non xforms  tags (e.g., html,
	  head, body) required to generate a valid output document.
	</p><p>
	  selectMany bindings are handled (I think) per the spec. That is, the
	  instance data is assumed to be a space separated list of data.
	</p><p>
	  Currently, nodeset attributes are assumed to be relative to
	  xforms:instance (the root of the pseudo document as defined in the
	  spec), as I cannot deduce from the spec whether they inherit outer
	  context. If you want to bind a itemset to a relative reference, you
	  can use a bind attribute. The bind element will be parsed as a
	  relative path.
	</p><p>
	  An <tt class="sgmltag-element">xforms::group</tt> with the 
	  class attribute <tt class="sgmltag-element">no-display</tt> can be used for
	  context grouping and will not generate a 'div' element in the
	  output. This is useful for generating instance context per section 7.3
	  of the spec without breaking e.g, a css table model. The template
	  also ignores any caption, hint or common-attributes 
	  (<tt class="sgmltag-element">class</tt>, <tt class="sgmltag-element">accessKey</tt>)
	  associated with the group.
	</p><p>
	  Name attributes on the html form elements are generated according to
	  the spec. That is, if the encoding is 
	  <tt class="sgmltag-element">application/x-www-urlencoded</tt>,
	  the name will be the <tt class="sgmltag-element">local-name()</tt>
	  of the data node. Any other
	  encoding (default <tt class="sgmltag-element">multipart-form-data</tt>) 
	  will be the xpath to the data.
	</p></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a id="id2759076"/>Support for the XForms Spec, section-by-section</h2></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a id="id2759084"/>2 Introduction to XForms</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759092"/>2.6 Multiple Forms per Document</h4></div></div><p>supported</p></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a id="id2759106"/>3 Document Structure</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759113"/>3.1 The XForms Namespace</h4></div></div><p>template uses prefix <tt class="sgmltag-element">xf:</tt></p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759129"/>3.2 Horizontally Applicable Markup</h4></div></div><p>elements and attributes in other namespaces copied
		  verbatim</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759143"/>3.3 Model</h4></div></div><p>mutiple models allowed. controls for each form must be contained
		  in an outer group element. The model used will be either the
		  first model in the document, or the model specified by the
		  first element found via the xpath expression
		  <tt class="sgmltag-element">ancestor:xf:*[@model]</tt>. 
		  extensionFunctions are not supported.</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759165"/>3.4 instance</h4></div></div><p>Supported for inline content, xlinks not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759179"/>3.5 schema</h4></div></div><p>not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759191"/>3.6 submitInfo</h4></div></div><p>supported
		  <div class="itemizedlist"><ul type="disc"><li><p><i>action </i> 	supported</p></li><li><p><i>mediaTypeExtension </i> supported</p></li><li><p><i>method </i> supported</p></li><li><p><i>version </i> not-supported</p></li><li><p><i>indent </i> not-supported</p></li><li><p><i>encoding </i> supported</p></li><li><p><i>mediaType </i> not-supported</p></li><li><p><i>omitXMLDeclaration </i> not-supported</p></li><li><p><i>standalone </i> not-supported</p></li><li><p><i>CDATASectionElements </i> not-supported</p></li><li><p><i>replace </i> not-supported</p></li></ul></div>
		</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759302"/>3.7 privacy</h4></div></div><p>not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759314"/>3.8 XForms and XLink</h4></div></div><p>xlink not supported</p></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a id="id2759328"/>4 Processing Model</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759336"/>4.1 Events Overview</h4></div></div><p/></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759347"/>4.2 Initialization Events</h4></div></div><p>not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759360"/>4.3 Interaction Events</h4></div></div><p>not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759373"/>4.4 XForms Submit</h4></div></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759380"/>4.4.1 xforms:submit</h5></div></div><p>supported</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759393"/>4.4.2 application/x-www-form-urlencoded</h5></div></div><p>supported</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759406"/>4.4.3 multipart/form-data</h5></div></div><p>supported, default</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759419"/>4.4.4 text/xml</h5></div></div><p>not supported</p></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759432"/>4.5 Error Indications</h4></div></div><p>not supported</p></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a id="id2759446"/>5 Datatypes</h3></div></div><p>schemas not supported</p></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a id="id2759459"/>6 Constraints</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759467"/>6.1 XForms Constraints</h4></div></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759474"/>6.1.1 type</h5></div></div><p>not currently used.</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759487"/>6.1.2 readOnly</h5></div></div><p>not currently used</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759500"/>6.1.3 required</h5></div></div><p>supported, class=&quot;required&quot;</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759512"/>6.1.4 relevant</h5></div></div><p>supported, does not render control</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759526"/>6.1.5 calculate</h5></div></div><p>not supported</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759538"/>6.1.6 isValid</h5></div></div><p>supported, sets class=&quot;invalid&quot; if false</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759552"/>6.1.7 maxOccurs</h5></div></div><p>supported, used for rendering repeats</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759565"/>6.1.8 minOccurs</h5></div></div><p>supported, used for rendering repeats</p></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759579"/>6.2 Schema Constraints</h4></div></div><p>not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759592"/>6.3 Additional Schema Examples</h4></div></div><p>not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759605"/>6.4 Binding</h4></div></div><p>supported</p></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a id="id2759619"/>7 XPath Expressions in XForms</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759626"/>7.1 XPath Datatypes</h4></div></div><p>not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759639"/>7.2 Instance Data</h4></div></div><p>dom no supported, no client side processing</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759652"/>7.3 Evaluation Context</h4></div></div><p>properly implemented, i think</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759666"/>7.4 XForms Core Function Library</h4></div></div><p>only those functions supported by libXML's xpath implementation</p></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a id="id2759681"/>8 Form Controls</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759688"/>8.1 input</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759700"/>8.2 secret</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759713"/>8.3 textarea</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759726"/>8.4 output</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759738"/>8.5 upload</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759750"/>8.6 range</h4></div></div><p>not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759763"/>8.7 button</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759776"/>8.8 submit</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759788"/>8.9 selectOne</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759801"/>8.10 selectMany</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759813"/>8.11 Common Markup for selection controls</h4></div></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759821"/>8.11.1 choices</h5></div></div><p>supported</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759834"/>8.11.2 item</h5></div></div><p>supported</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759846"/>8.11.3 itemset</h5></div></div><p>supported</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759859"/>8.11.4 value</h5></div></div><p>supported</p></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2759872"/>8.12 Common Markup</h4></div></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759880"/>8.12.1 Common Attributes</h5></div></div><div class="itemizedlist"><ul type="disc"><li><p><i>xml:lang </i> not supported</p></li><li><p><i>class </i> supported</p></li><li><p><i>navIndex </i> not supported</p></li><li><p><i>accessKey </i> supported</p></li></ul></div></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759926"/>8.12.2 Single Node Binding Attributes</h5></div></div><p>supported</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759940"/>8.12.3 Nodeset Binding Attributes</h5></div></div><p>supported</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2759952"/>8.12.4 Common Child Elements</h5></div></div><div class="sect5"><div class="titlepage"><div><h6 class="title"><a id="id2759960"/>8.12.4.1 caption</h6></div></div><p>supported, creates field label</p></div><div class="sect5"><div class="titlepage"><div><h6 class="title"><a id="id2759973"/>8.12.4.2 help</h6></div></div><p>not supported</p></div><div class="sect5"><div class="titlepage"><div><h6 class="title"><a id="id2759986"/>8.12.4.3 hint</h6></div></div><p>supported, creates &quot;title&quot; (rollover)</p></div><div class="sect5"><div class="titlepage"><div><h6 class="title"><a id="id2759999"/>8.12.4.4 alert</h6></div></div><p>not supported</p></div><div class="sect5"><div class="titlepage"><div><h6 class="title"><a id="id2760012"/>8.12.4.5 extension</h6></div></div><p>not supported</p></div></div></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a id="id2760028"/>9 XForms User Interface</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2760036"/>9.1 group</h4></div></div><p>supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2760048"/>9.2 switch</h4></div></div><p>not supported</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a id="id2760061"/>9.3 repeat</h4></div></div><p>supported, startIndex and number attributes not supported</p><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2760073"/>9.3.1 Repeat Processing</h5></div></div><p>no cursors</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2756019"/>9.3.2 Nested Repeats</h5></div></div><p>supported</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a id="id2756032"/>9.3.3 User Interface Interaction</h5></div></div><p>not supported</p></div></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a id="id2756047"/>10 XForms Actions</h3></div></div><p>not supported</p></div></div></div></body></html>
